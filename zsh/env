# -*- mode: shell-script -*-

source_if_exists() {
  [[ -f ${${(%):-%x}:A:h:h}/$1 ]] && . ${${(%):-%x}:A:h:h}/$1 || return 0
}

export DOMAIN=$(cut -d. -f2- -s <<<${HOST})
export UNAME=$(uname)
export LC_ALL=en_US.UTF-8

setopt EXTENDED_GLOB
setopt REMATCH_PCRE

source_if_exists dotfiles-${UNAME:l}/zsh/env
source_if_exists dotfiles-${DOMAIN:l}/zsh/env
source_if_exists dotfiles-${HOST:l}/zsh/env
